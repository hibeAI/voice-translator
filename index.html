<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <title>Gladia - Streaming</title>
    <link rel="stylesheet" href="style.css" />
    <!-- We are using a 3rd party library to record audio as WAV on every browser. -->
    <!-- Each browser uses its own audio encoding and some of them are not compatible. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/RecordRTC/5.6.2/RecordRTC.js"></script>
  </head>

  <body>
    <div id="container">
      <form id="form" class="form-container">
        <!-- API keys and audio device input -->
        <div class="keys-and-device">
          <div class="form-group" id="apiglad">
            <label for="gladia_key">Gladia API key</label>
            <input
              id="gladia_key"
              name="gladia_key"
              type="password"
              placeholder="Gladia API key"
              required
            />
          </div>
          <div class="form-group" id="openapi">
            <label for="openai_key">Open AI key</label>
            <input
              id="openai_key"
              name="openai_key"
              type="password"
              placeholder="OpenAI Key"
              required
            />
          </div>
          <div class="form-group" id="deviceitem">
            <label for="input_device">Audio input device</label>
            <select
              id="input_device"
              name="input_device"
              required
              disabled
            ></select>
          </div>
        </div>

        <!-- Buttons -->
        <div class="button-container">
          <button type="submit">
            <i class="fas fa-microphone" id="microphone"></i>
            Start
          </button>
          <button type="button" style="color: white" disabled>
            <i class="fa-solid fa-stop" id="stopIcon"></i> Stop
          </button>
          <button id="clearButton">
            <i class="fa-solid fa-arrows-rotate"></i>
          </button>
        </div>
      </form>

      <!-- Result container -->
      <div id="result" style="display: none">
        <span id="finals"></span>
        <span style="color: red" id="partials"></span>
      </div>

      <script src="index.js"></script>
    </div>
  </body>
</html>
